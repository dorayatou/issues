<body>
    <head>
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <!-- <link rel="manifest" href="./manifest.json"> -->
        <meta name="full-screen" content="true">
    </head>
    <header>
        <h2>Web APIs<h2>
    </header>
    <div class="web-api-cnt">
        <div class="web-api-card">
            <div class="web-api-card-head"> Demo - Fullscreen </div>
            <div class="web-api-card-body">
                <div id="error" class="close"></div>
                <div> This API makes fullscreen-mode of our webpage possible. It lets you select the Element you want to
                    view in fullscreen-mode, then it shuts off the browsers window features like URL bar, the window
                    pane, and presents the Element to take the entire width and height of the system. In Android phones,
                    it will remove the browsers window and the Android UI where the network status, battery status are
                    displayed, and display the Element in full width of the Android system. </div>
                <!-- <div class="video-stage">
                    <video id="video" src="./lovely.mp4"></video>
                    <button onclick="toggle()">Toogle Fullscreen</button>
                </div> -->
                <div> This API makes fullscreen-mode of our webpage possible. It lets you select the Element you want to
                    view in fullscreen-mode, then it shuts off the browsers window features like URL bar, the window
                    pane, and presents the Element to take the entire width and height of the system. In Android phones,
                    it will remove the browsers window and the Android UI where the network status, battery status are
                    displayed, and display the Element in full width of the Android system. </div>
            </div>
        </div>
    </div>
</body>
<script>
    const l = console.log

    function toggle() {
        const videoStageEl = document.querySelector(".video-stage")
        console.log(videoStageEl.requestFullscreen)
        if (videoStageEl.requestFullscreen) {
            if (!document.fullscreenElement) {
                videoStageEl.requestFullscreen()
            }
            else {
                document.exitFullscreen()
            }
        } else {
            error.innerHTML = "Fullscreen API not supported in this device."
            error.classList.remove("close")
        }
    }
    function toggleFullScreen() {
        if (!document.fullscreenElement) {
            // document.documentElement.requestFullscreen();
            document.documentElement.webkitRequestFullScreen();
        } else {
            if (document.exitFullscreen) {
                document.exitFullscreen(); 
            }
        }
    }
    // toggleFullScreen();
    function requestFullscreen(element) {
        var requestMethod = element.requestFullscreen
            || element.webkitRequestFullScreen
            || element.mozRequestFullScreen
            || element.msRequestFullscreen;
        if (requestMethod) {
            requestMethod.call(element);
        }
    }
    function exitFullscreen() {
        var doc = document;
        if (doc.exitFullscreen) {
            doc.exitFullscreen();
        } else if (doc.mozCancelFullScreen) {
            doc.mozCancelFullScreen();
        } else if (doc.webkitCancelFullScreen) {
            doc.webkitCancelFullScreen();
        }
    }
    document.onclick = function (event) {
        if (document.fullscreenElement) { 
            exitFullscreen();
        } else {
            requestFullscreen(document.documentElement);
        }
    };
    // document.click();
    // window.onload = function() {
    //     requestFullscreen(document.documentElement);
    // }
    // document.onfullscreenchange = function(event) {
    // }
    // document.onfullscreenerror = function(event) {
    // }
    // requestFullscreen(document.documentElement);
    let theEvent = document.createEvent("Events");
    theEvent.initEvent("click", true, true);  
    document.documentElement.dispatchEvent(theEvent);
</script>
